<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1j7r50a" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.6.0">
  <bpmn:collaboration id="Collaboration_1ijm1nv">
    <bpmn:participant id="Participant_0d755fm" name="TenderOrLotAmendmentConfirmation" processRef="tenderOrLotAmendmentConfirmation" />
    <bpmn:group id="Group_16854cw" categoryValueRef="CategoryValue_0qji0v0" />
    <bpmn:group id="Group_0rjmvx0" categoryValueRef="CategoryValue_0ehznl4" />
    <bpmn:group id="Group_0j7l19h" categoryValueRef="CategoryValue_1xk0z4a" />
    <bpmn:group id="Group_1gzcyki" categoryValueRef="CategoryValue_11hqelx" />
    <bpmn:group id="Group_07e25j0" categoryValueRef="CategoryValue_1uako15" />
  </bpmn:collaboration>
  <bpmn:process id="tenderOrLotAmendmentConfirmation" isExecutable="true">
    <bpmn:serviceTask id="BpeBpmnErrorDescriptionModifierTask" name="Add description" camunda:asyncBefore="true" camunda:delegateExpression="${bpeErrorDescriptionModifierDelegate}">
      <bpmn:incoming>Flow_06tua04</bpmn:incoming>
      <bpmn:outgoing>Flow_0f3ii5j</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_0tr6s3k">
      <bpmn:incoming>Flow_0z7ddcw</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="NotifierErrorNotificationToPlatformTask" name="iNotifier Kafka:&#10;Error Notification To Platform" camunda:asyncBefore="true" camunda:delegateExpression="${notifierErrorNotificationToPlatformDelegate}">
      <bpmn:incoming>Flow_0f3ii5j</bpmn:incoming>
      <bpmn:outgoing>Flow_0z7ddcw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="RevisionGetAmendmentStateByIdsTask" name="eRevision:&#10;Get main part of amendment by ids" camunda:asyncBefore="true" camunda:delegateExpression="${revisionGetAmendmentStateByIdsDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="location">tender</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1syvwdz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0dgw7nl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="BpeProcessInitializerTask" name="BPE:&#10;Process Initializer" camunda:asyncBefore="true" camunda:delegateExpression="${bpeProcessInitializerDelegate}">
      <bpmn:incoming>SequenceFlow_0bvw2yh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1yez0cm</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_0bvw2yh</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="AddErrorBPR-10.0.4.4.1Task" name="Add Error BPR-10.0.4.4.1" camunda:asyncBefore="true" camunda:delegateExpression="${ErrorAppenderDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="errorCode">BPR-10.0.4.4.1</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0zcm9yc</bpmn:incoming>
      <bpmn:outgoing>Flow_06tua04</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:subProcess id="bpeLotsStatusAnalysisTask" name="Amendment status Analysis">
      <bpmn:incoming>SequenceFlow_0dgw7nl</bpmn:incoming>
      <bpmn:outgoing>Flow_14exmue</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true" camunda:collection="${tender.amendments}" camunda:elementVariable="amendment" />
      <bpmn:exclusiveGateway id="ExclusiveGateway_1ddzd16" name="amendment status is pending?">
        <bpmn:incoming>Flow_07ry8xj</bpmn:incoming>
        <bpmn:outgoing>bpeAmendmentsStatusAnalysisYesTask</bpmn:outgoing>
        <bpmn:outgoing>Flow_0fqiozs</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:startEvent id="StartEvent_1tql3n1">
        <bpmn:outgoing>Flow_07ry8xj</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:endEvent id="EndEvent_1i93tzm">
        <bpmn:incoming>bpeAmendmentsStatusAnalysisYesTask</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:endEvent id="BPR-10.0.4.4.1" name="BPR-10.0.4.4.1">
        <bpmn:incoming>Flow_0fqiozs</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_0196ky4" errorRef="Error_14zn159" />
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_07ry8xj" sourceRef="StartEvent_1tql3n1" targetRef="ExclusiveGateway_1ddzd16" />
      <bpmn:sequenceFlow id="bpeAmendmentsStatusAnalysisYesTask" name="yes" sourceRef="ExclusiveGateway_1ddzd16" targetRef="EndEvent_1i93tzm">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${amendment.status == 'PENDING'}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0fqiozs" name="no" sourceRef="ExclusiveGateway_1ddzd16" targetRef="BPR-10.0.4.4.1">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${amendment.status != 'PENDING'}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:serviceTask id="RevisionSetActiveStateForAmendmentTask" name="eRevision:&#10;Set &#39;active&#39; state for amendment" camunda:asyncBefore="true" camunda:delegateExpression="${revisionSetStateForAmendmentDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="location">tender</camunda:inputParameter>
          <camunda:inputParameter name="status">ACTIVE</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_14exmue</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1k62j90</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="AccessFindCompleteLotIdsTask" name="eAccess:&#10;Find &#39;complete&#39; lot ids" default="SequenceFlow_19hefoi" camunda:asyncBefore="true" camunda:delegateExpression="${accessFindLotIdsDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="states">
            <camunda:list>
              <camunda:value>status=COMPLETE</camunda:value>
            </camunda:list>
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0h7dpt8</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_19hefoi</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1kd2vip</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="AccessFindActiveLotIdsInTenderLineTask" name="eAccess:&#10;Find &#39;active&#39; lot ids" camunda:asyncBefore="true" camunda:delegateExpression="${accessFindLotIdsDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="states">
            <camunda:list>
              <camunda:value>status=ACTIVE</camunda:value>
            </camunda:list>
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>cancelTender</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15tdawk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:callActivity id="SubCancelLotInCancelTenderLineTask" name="cancelLot" calledElement="subCancelLot" camunda:variableMappingDelegateExpression="${subCancelLotDelegate}">
      <bpmn:extensionElements>
        <camunda:in source="processInfo" target="processInfo" />
        <camunda:in source="requestInfo" target="requestInfo" />
        <camunda:out source="outcomes" target="outcomes" />
        <camunda:out source="awards" target="awards" />
        <camunda:out source="errors" target="errors" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_15tdawk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_02zdvkt</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0fyxu3f">
      <bpmn:incoming>SequenceFlow_19hefoi</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_02zdvkt</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_09l5yvh</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1wsk5ct">
      <bpmn:incoming>SequenceFlow_0u8a6rx</bpmn:incoming>
      <bpmn:outgoing>cancelTender</bpmn:outgoing>
      <bpmn:outgoing>cancelLot</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:callActivity id="SubCompleteRecordTask" name="completeRecord" calledElement="subCompleteRecord" camunda:variableMappingDelegateExpression="${subCompleteRecordDelegate}">
      <bpmn:extensionElements>
        <camunda:out source="errors" target="errors" />
        <camunda:in source="processInfo" target="processInfo" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1kd2vip</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1kk3ypw</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:callActivity id="SubCancelTenderTask" name="cancelTender" calledElement="subCancelTender" camunda:variableMappingDelegateExpression="${subCancelTenderDelegate}">
      <bpmn:extensionElements>
        <camunda:in source="processInfo" target="processInfo" />
        <camunda:out source="errors" target="errors" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_09l5yvh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gsg51n</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0iutsxe">
      <bpmn:incoming>SequenceFlow_0gsg51n</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1kk3ypw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15y52gc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:callActivity id="SubUpdateMSTask" name="updateMS" calledElement="subUpdateMS" camunda:variableMappingDelegateExpression="${subUpdateMSDelegate}">
      <bpmn:extensionElements>
        <camunda:out source="errors" target="errors" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_15y52gc</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0vjgg8f</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0eycrxs">
      <bpmn:incoming>SequenceFlow_1qdawfd</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0vjgg8f</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ca12w2</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:callActivity id="SubCancelLotInCancelLotLineTask" name="cancelLot" calledElement="subCancelLot" camunda:variableMappingDelegateExpression="${subCancelLotDelegate}">
      <bpmn:extensionElements>
        <camunda:in source="processInfo" target="processInfo" />
        <camunda:in source="requestInfo" target="requestInfo" />
        <camunda:out source="outcomes" target="outcomes" />
        <camunda:out source="awards" target="awards" />
        <camunda:out source="errors" target="errors" />
      </bpmn:extensionElements>
      <bpmn:incoming>cancelLot</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_18mrvu2</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:serviceTask id="NoticeTask" name="eNotice:&#10;UpdateRecord" camunda:asyncBefore="true" camunda:delegateExpression="${noticeDelegate}">
      <bpmn:incoming>SequenceFlow_0b3iiuy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_04gj44u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="BpeSaveContextTask" name="BPE:&#10;Save context" camunda:asyncBefore="true" camunda:delegateExpression="${bpeSaveContextDelegatet}">
      <bpmn:incoming>SequenceFlow_04gj44u</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cbp8g3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="NotifierSuccessNotificationToPlatformTask" name="iNotifier Kafka:&#10;Success Notification To Platform" camunda:asyncBefore="true" camunda:delegateExpression="${notifierSuccessNotificationToPlatformDelegate}">
      <bpmn:incoming>SequenceFlow_1cbp8g3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0nm7isv</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_09fffce">
      <bpmn:incoming>SequenceFlow_0nm7isv</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="BpeAddUpdateRecordTaskInQueueTask" name="BPE:&#10;Add update record task to queue" camunda:asyncBefore="true" camunda:delegateExpression="${bpeAddUpdateRecordTaskInQueueDelegate}">
      <bpmn:incoming>SequenceFlow_1ca12w2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0b3iiuy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="RevisionCheckAccessToAmendmentTask" name="eRevison:&#10;Check access to amendment" camunda:asyncBefore="true" camunda:delegateExpression="${revisionCheckAccessToAmendmentDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="location">tender</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1yez0cm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1syvwdz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:businessRuleTask id="DMNChoosingProcessForStart" name="Choosing process for start" camunda:asyncBefore="true" camunda:resultVariable="line" camunda:decisionRef="tenderOrLotAmendmentConfirmation" camunda:mapDecisionResult="singleResult">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1k62j90</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0u8a6rx</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:subProcess id="SubProcess_0i7ah1p" triggeredByEvent="true">
      <bpmn:startEvent id="StartEvent_0vehoa1" name="Internal Incident">
        <bpmn:extensionElements>
          <camunda:executionListener event="end">
            <camunda:script scriptFormat="javascript">execution.removeVariable("suspend")</camunda:script>
          </camunda:executionListener>
        </bpmn:extensionElements>
        <bpmn:outgoing>SequenceFlow_0x6f2b6</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_1mynoqt" errorRef="Error_15lgooj" camunda:errorMessageVariable="errorTaskId" />
      </bpmn:startEvent>
      <bpmn:serviceTask id="RecoveryAfterInternalIncidentTask" name="Return to last task" camunda:asyncAfter="true" camunda:delegateExpression="${recoveryDelegate}">
        <bpmn:incoming>SequenceFlow_1cq2rnt</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_07h2pa5</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:endEvent id="EndEvent_0e2kgj7">
        <bpmn:incoming>SequenceFlow_07h2pa5</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:serviceTask id="NotifierBpeIncidentTask" name="Send incident to special Kafka topic" camunda:asyncBefore="true" camunda:delegateExpression="${notifierBpeIncidentDelegate}">
        <bpmn:incoming>SequenceFlow_0x6f2b6</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_12it276</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:userTask id="FixInternalIncidentTask" name="Fix internal incident" camunda:formKey="embedded:/INCIDENT_FORM.html">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="IncidentLevel" label="level" type="string" defaultValue="${incident.level}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="ServiceVersion" label="service version" type="string" defaultValue="${incident.service.version}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="ServiceId" label="service id" type="string" defaultValue="${incident.service.id}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="ServiceName" label="service name" type="string" defaultValue="${incident.service.name}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="IncidentId" label="id" type="string" defaultValue="${incident.id}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="IncidentDate" label="date" type="string" defaultValue="${incident.date}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_12it276</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1cq2rnt</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_0x6f2b6" sourceRef="StartEvent_0vehoa1" targetRef="NotifierBpeIncidentTask" />
      <bpmn:sequenceFlow id="SequenceFlow_07h2pa5" sourceRef="RecoveryAfterInternalIncidentTask" targetRef="EndEvent_0e2kgj7" />
      <bpmn:sequenceFlow id="SequenceFlow_12it276" sourceRef="NotifierBpeIncidentTask" targetRef="FixInternalIncidentTask" />
      <bpmn:sequenceFlow id="SequenceFlow_1cq2rnt" sourceRef="FixInternalIncidentTask" targetRef="RecoveryAfterInternalIncidentTask" />
    </bpmn:subProcess>
    <bpmn:subProcess id="SubProcess_0chxhwy" triggeredByEvent="true">
      <bpmn:startEvent id="StartEvent_18k6mvd" name="External Incident">
        <bpmn:extensionElements>
          <camunda:executionListener event="end">
            <camunda:script scriptFormat="javascript">execution.removeVariable("suspend")</camunda:script>
          </camunda:executionListener>
        </bpmn:extensionElements>
        <bpmn:outgoing>SequenceFlow_11psrp4</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_10cm1ex" errorRef="Error_0kv316y" camunda:errorMessageVariable="errorTaskId" />
      </bpmn:startEvent>
      <bpmn:serviceTask id="RecoveryAfterExternalIncidentTask" name="Return to last task" camunda:asyncAfter="true" camunda:delegateExpression="${recoveryDelegate}">
        <bpmn:incoming>SequenceFlow_0dnbse4</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1yx71r4</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:endEvent id="EndEvent_1hxbcm4">
        <bpmn:incoming>SequenceFlow_1yx71r4</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:userTask id="FixExternalIncidentTask" name="Fix external incident" camunda:formKey="embedded:/INCIDENT_FORM.html">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="IncidentLevel" label="level" type="string" defaultValue="${incident.level}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="ServiceVersion" label="service version" type="string" defaultValue="${incident.service.version}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="ServiceId" label="service id" type="string" defaultValue="${incident.service.id}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="ServiceName" label="service name" type="string" defaultValue="${incident.service.name}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="IncidentId" label="id" type="string" defaultValue="${incident.id}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="IncidentDate" label="date" type="string" defaultValue="${incident.date}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_11psrp4</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0dnbse4</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_11psrp4" sourceRef="StartEvent_18k6mvd" targetRef="FixExternalIncidentTask" />
      <bpmn:sequenceFlow id="SequenceFlow_1yx71r4" sourceRef="RecoveryAfterExternalIncidentTask" targetRef="EndEvent_1hxbcm4" />
      <bpmn:sequenceFlow id="SequenceFlow_0dnbse4" sourceRef="FixExternalIncidentTask" targetRef="RecoveryAfterExternalIncidentTask" />
    </bpmn:subProcess>
    <bpmn:subProcess id="SubProcess_0ejymw1" triggeredByEvent="true">
      <bpmn:endEvent id="EndEvent_1286moc">
        <bpmn:incoming>SequenceFlow_1fxckeg</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:startEvent id="StartEvent_039ur7b" name="code = Validation">
        <bpmn:outgoing>SequenceFlow_1k1qpa1</bpmn:outgoing>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_0egha27" errorRef="Error_0k7qyu7" camunda:errorCodeVariable="errorCode" camunda:errorMessageVariable="errorMessage" />
      </bpmn:startEvent>
      <bpmn:serviceTask id="BpeValidationErrorDescriptionModifierTask" name="Add description" camunda:asyncBefore="true" camunda:delegateExpression="${bpeErrorDescriptionModifierDelegate}">
        <bpmn:incoming>SequenceFlow_1k1qpa1</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0lo1lsp</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:serviceTask id="NotifierValidationErrorNotificationToPlatformTask" name="iNotifier Kafka:&#10;Validation Error Notification To Platform" camunda:asyncBefore="true" camunda:delegateExpression="${notifierErrorNotificationToPlatformDelegate}">
        <bpmn:incoming>SequenceFlow_0lo1lsp</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1fxckeg</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_1fxckeg" sourceRef="NotifierValidationErrorNotificationToPlatformTask" targetRef="EndEvent_1286moc" />
      <bpmn:sequenceFlow id="SequenceFlow_1k1qpa1" sourceRef="StartEvent_039ur7b" targetRef="BpeValidationErrorDescriptionModifierTask" />
      <bpmn:sequenceFlow id="SequenceFlow_0lo1lsp" sourceRef="BpeValidationErrorDescriptionModifierTask" targetRef="NotifierValidationErrorNotificationToPlatformTask" />
    </bpmn:subProcess>
    <bpmn:serviceTask id="AccessFindActiveLotIdsInLotLineTask" name="eAccess:&#10;Find &#39;active&#39; lot ids" default="SequenceFlow_1qdawfd" camunda:asyncBefore="true" camunda:delegateExpression="${accessFindLotIdsDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="states">
            <camunda:list>
              <camunda:value>status=ACTIVE</camunda:value>
            </camunda:list>
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_18mrvu2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0h7dpt8</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1qdawfd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="BPR-10.0.4.4.1-ErrorBoundaryEvent" attachedToRef="bpeLotsStatusAnalysisTask">
      <bpmn:outgoing>Flow_0zcm9yc</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1dadr2j" errorRef="Error_14zn159" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1ca12w2" sourceRef="ExclusiveGateway_0eycrxs" targetRef="BpeAddUpdateRecordTaskInQueueTask" />
    <bpmn:sequenceFlow id="SequenceFlow_18mrvu2" sourceRef="SubCancelLotInCancelLotLineTask" targetRef="AccessFindActiveLotIdsInLotLineTask" />
    <bpmn:sequenceFlow id="SequenceFlow_1qdawfd" sourceRef="AccessFindActiveLotIdsInLotLineTask" targetRef="ExclusiveGateway_0eycrxs" />
    <bpmn:sequenceFlow id="SequenceFlow_0h7dpt8" name="result == null" sourceRef="AccessFindActiveLotIdsInLotLineTask" targetRef="AccessFindCompleteLotIdsTask">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${result == null}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1yez0cm" sourceRef="BpeProcessInitializerTask" targetRef="RevisionCheckAccessToAmendmentTask" />
    <bpmn:sequenceFlow id="SequenceFlow_1syvwdz" sourceRef="RevisionCheckAccessToAmendmentTask" targetRef="RevisionGetAmendmentStateByIdsTask" />
    <bpmn:sequenceFlow id="SequenceFlow_0dgw7nl" sourceRef="RevisionGetAmendmentStateByIdsTask" targetRef="bpeLotsStatusAnalysisTask" />
    <bpmn:sequenceFlow id="SequenceFlow_0bvw2yh" sourceRef="StartEvent_1" targetRef="BpeProcessInitializerTask" />
    <bpmn:sequenceFlow id="SequenceFlow_1k62j90" sourceRef="RevisionSetActiveStateForAmendmentTask" targetRef="DMNChoosingProcessForStart" />
    <bpmn:sequenceFlow id="Flow_0zcm9yc" sourceRef="BPR-10.0.4.4.1-ErrorBoundaryEvent" targetRef="AddErrorBPR-10.0.4.4.1Task" />
    <bpmn:sequenceFlow id="Flow_14exmue" sourceRef="bpeLotsStatusAnalysisTask" targetRef="RevisionSetActiveStateForAmendmentTask" />
    <bpmn:sequenceFlow id="Flow_06tua04" sourceRef="AddErrorBPR-10.0.4.4.1Task" targetRef="BpeBpmnErrorDescriptionModifierTask" />
    <bpmn:sequenceFlow id="Flow_0f3ii5j" sourceRef="BpeBpmnErrorDescriptionModifierTask" targetRef="NotifierErrorNotificationToPlatformTask" />
    <bpmn:sequenceFlow id="Flow_0z7ddcw" sourceRef="NotifierErrorNotificationToPlatformTask" targetRef="Event_0tr6s3k" />
    <bpmn:sequenceFlow id="SequenceFlow_1kd2vip" name="result != null" sourceRef="AccessFindCompleteLotIdsTask" targetRef="SubCompleteRecordTask">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${result != null}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_19hefoi" sourceRef="AccessFindCompleteLotIdsTask" targetRef="ExclusiveGateway_0fyxu3f" />
    <bpmn:sequenceFlow id="cancelTender" name="cancelTender&#10;&#10;" sourceRef="ExclusiveGateway_1wsk5ct" targetRef="AccessFindActiveLotIdsInTenderLineTask">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${line == cancelTender}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_15tdawk" sourceRef="AccessFindActiveLotIdsInTenderLineTask" targetRef="SubCancelLotInCancelTenderLineTask" />
    <bpmn:sequenceFlow id="SequenceFlow_09l5yvh" sourceRef="ExclusiveGateway_0fyxu3f" targetRef="SubCancelTenderTask" />
    <bpmn:sequenceFlow id="SequenceFlow_0u8a6rx" sourceRef="DMNChoosingProcessForStart" targetRef="ExclusiveGateway_1wsk5ct" />
    <bpmn:sequenceFlow id="cancelLot" name="cancelLot" sourceRef="ExclusiveGateway_1wsk5ct" targetRef="SubCancelLotInCancelLotLineTask">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${line == cancelLot}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1kk3ypw" sourceRef="SubCompleteRecordTask" targetRef="ExclusiveGateway_0iutsxe" />
    <bpmn:sequenceFlow id="SequenceFlow_0gsg51n" sourceRef="SubCancelTenderTask" targetRef="ExclusiveGateway_0iutsxe" />
    <bpmn:sequenceFlow id="SequenceFlow_15y52gc" sourceRef="ExclusiveGateway_0iutsxe" targetRef="SubUpdateMSTask" />
    <bpmn:sequenceFlow id="SequenceFlow_0vjgg8f" sourceRef="SubUpdateMSTask" targetRef="ExclusiveGateway_0eycrxs" />
    <bpmn:sequenceFlow id="SequenceFlow_0b3iiuy" sourceRef="BpeAddUpdateRecordTaskInQueueTask" targetRef="NoticeTask" />
    <bpmn:sequenceFlow id="SequenceFlow_04gj44u" sourceRef="NoticeTask" targetRef="BpeSaveContextTask" />
    <bpmn:sequenceFlow id="SequenceFlow_1cbp8g3" sourceRef="BpeSaveContextTask" targetRef="NotifierSuccessNotificationToPlatformTask" />
    <bpmn:sequenceFlow id="SequenceFlow_0nm7isv" sourceRef="NotifierSuccessNotificationToPlatformTask" targetRef="EndEvent_09fffce" />
    <bpmn:sequenceFlow id="SequenceFlow_02zdvkt" sourceRef="SubCancelLotInCancelTenderLineTask" targetRef="ExclusiveGateway_0fyxu3f" />
    <bpmn:textAnnotation id="TextAnnotation_1s8d290">
      <bpmn:text>operationType:
TenderOrLotAmendmentConfirmation</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1881b81" sourceRef="StartEvent_1" targetRef="TextAnnotation_1s8d290" />
  </bpmn:process>
  <bpmn:error id="Error_0pdct16" errorCode="BPR-10.0.3.1.1" camunda:errorMessage="BPR-10.0.3.1.1" />
  <bpmn:error id="Error_1rkvwlr" errorCode="BPR-10.0.3.1.3" camunda:errorMessage="BPR-10.0.3.1.3" />
  <bpmn:error id="Error_1ub4tq4" errorCode="BPR-10.0.3.1.2" camunda:errorMessage="BPR-10.0.3.1.2" />
  <bpmn:category id="Category_01vgcrq">
    <bpmn:categoryValue id="CategoryValue_0qji0v0" value="checks" />
  </bpmn:category>
  <bpmn:error id="Error_18m3yqu" errorCode="BPR-10.0.3.3.1" camunda:errorMessage="BPR-10.0.3.3.1" />
  <bpmn:category id="Category_1nl1ig6">
    <bpmn:categoryValue id="CategoryValue_0ehznl4" value="desicion" />
  </bpmn:category>
  <bpmn:category id="Category_0d20u5u">
    <bpmn:categoryValue id="CategoryValue_1xk0z4a" value="confirmation" />
  </bpmn:category>
  <bpmn:error id="Error_14zn159" name="amendment status isn&#39;t pending" errorCode="BPR-10.0.4.4.1" />
  <bpmn:error id="Error_1ph8oes" />
  <bpmn:error id="Error_01vbigy" />
  <bpmn:message id="Message_0bph0ny" name="cancelLot" />
  <bpmn:message id="Message_0rnbae9" name="CancelTender" />
  <bpmn:message id="Message_0xp5tt2" name="cancelMS" />
  <bpmn:message id="Message_0jcnm0e" name="completeRecord" />
  <bpmn:error id="Error_15lgooj" name="Internal Incident" errorCode="InternalIncident" />
  <bpmn:error id="Error_0kv316y" name="External Incident" errorCode="ExternalIncident" />
  <bpmn:error id="Error_0k7qyu7" name="Validation error from service" errorCode="ValidationError" camunda:errorMessage="ValidationError" />
  <bpmn:category id="Category_0lvkw5w">
    <bpmn:categoryValue id="CategoryValue_11hqelx" value="ending" />
  </bpmn:category>
  <bpmn:category id="Category_1i5muc3">
    <bpmn:categoryValue id="CategoryValue_1uako15" value="standart" />
  </bpmn:category>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1ijm1nv">
      <bpmndi:BPMNShape id="Participant_0d755fm_di" bpmnElement="Participant_0d755fm" isHorizontal="true">
        <dc:Bounds x="159" y="80" width="2681" height="770" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_14exmue_di" bpmnElement="Flow_14exmue">
        <di:waypoint x="970" y="321" />
        <di:waypoint x="1040" y="321" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z7ddcw_di" bpmnElement="Flow_0z7ddcw">
        <di:waypoint x="1130" y="540" />
        <di:waypoint x="1182" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0f3ii5j_di" bpmnElement="Flow_0f3ii5j">
        <di:waypoint x="980" y="540" />
        <di:waypoint x="1030" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06tua04_di" bpmnElement="Flow_06tua04">
        <di:waypoint x="816" y="540" />
        <di:waypoint x="880" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zcm9yc_di" bpmnElement="Flow_0zcm9yc">
        <di:waypoint x="766" y="458" />
        <di:waypoint x="766" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1mlvb2o_di" bpmnElement="cancelTender">
        <di:waypoint x="1410" y="345" />
        <di:waypoint x="1410" y="533" />
        <di:waypoint x="1450" y="533" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1336" y="520" width="67" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0u8a6rx_di" bpmnElement="SequenceFlow_0u8a6rx">
        <di:waypoint x="1360" y="320" />
        <di:waypoint x="1385" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1k62j90_di" bpmnElement="SequenceFlow_1k62j90">
        <di:waypoint x="1140" y="321" />
        <di:waypoint x="1260" y="321" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0bvw2yh_di" bpmnElement="SequenceFlow_0bvw2yh">
        <di:waypoint x="245" y="321" />
        <di:waypoint x="290" y="321" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0dgw7nl_di" bpmnElement="SequenceFlow_0dgw7nl">
        <di:waypoint x="658" y="321" />
        <di:waypoint x="690" y="321" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1syvwdz_di" bpmnElement="SequenceFlow_1syvwdz">
        <di:waypoint x="530" y="321" />
        <di:waypoint x="558" y="321" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1yez0cm_di" bpmnElement="SequenceFlow_1yez0cm">
        <di:waypoint x="390" y="321" />
        <di:waypoint x="430" y="321" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="209" y="303" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0ykexh5_di" bpmnElement="BpeProcessInitializerTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="290" y="281" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0uavy9g_di" bpmnElement="RevisionCheckAccessToAmendmentTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="430" y="281" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_03nangr_di" bpmnElement="RevisionGetAmendmentStateByIdsTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="558" y="281" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BusinessRuleTask_0lndmh7_di" bpmnElement="DMNChoosingProcessForStart" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1260" y="281" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1wsk5ct_di" bpmnElement="ExclusiveGateway_1wsk5ct" isMarkerVisible="true">
        <dc:Bounds x="1385" y="295" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ysynpm_di" bpmnElement="bpeLotsStatusAnalysisTask" isExpanded="true">
        <dc:Bounds x="690" y="201" width="280" height="239" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0fqiozs_di" bpmnElement="Flow_0fqiozs">
        <di:waypoint x="830" y="316" />
        <di:waypoint x="830" y="352" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="833" y="323" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1s6uomi_di" bpmnElement="bpeAmendmentsStatusAnalysisYesTask">
        <di:waypoint x="855" y="291" />
        <di:waypoint x="892" y="291" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="862" y="273" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07ry8xj_di" bpmnElement="Flow_07ry8xj">
        <di:waypoint x="758" y="291" />
        <di:waypoint x="805" y="291" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ddzd16_di" bpmnElement="ExclusiveGateway_1ddzd16" isMarkerVisible="true">
        <dc:Bounds x="805" y="266" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="790" y="229" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1tql3n1_di" bpmnElement="StartEvent_1tql3n1">
        <dc:Bounds x="722" y="273" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1i93tzm_di" bpmnElement="EndEvent_1i93tzm">
        <dc:Bounds x="892" y="273" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0o6jfxp_di" bpmnElement="BPR-10.0.4.4.1" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="812" y="352" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="797" y="393" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1spztvn_di" bpmnElement="AddErrorBPR-10.0.4.4.1Task" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="716" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1o53lwu_di" bpmnElement="BpeBpmnErrorDescriptionModifierTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="880" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0497nt2_di" bpmnElement="NotifierErrorNotificationToPlatformTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1030" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0tr6s3k_di" bpmnElement="Event_0tr6s3k">
        <dc:Bounds x="1182" y="522" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1sbyxcp_di" bpmnElement="RevisionSetActiveStateForAmendmentTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1040" y="281" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1s8d290_di" bpmnElement="TextAnnotation_1s8d290">
        <dc:Bounds x="200" y="201" width="110" height="82" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0u8n73y_di" bpmnElement="BPR-10.0.4.4.1-ErrorBoundaryEvent" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <dc:Bounds x="748" y="422" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1881b81_di" bpmnElement="Association_1881b81">
        <di:waypoint x="227" y="303" />
        <di:waypoint x="227" y="283" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Group_16854cw_di" bpmnElement="Group_16854cw">
        <dc:Bounds x="410" y="160" width="580" height="300" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="683" y="167" width="35" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Group_0rjmvx0_di" bpmnElement="Group_0rjmvx0">
        <dc:Bounds x="1235" y="100" width="975" height="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1889" y="107" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Group_0j7l19h_di" bpmnElement="Group_0j7l19h">
        <dc:Bounds x="1010" y="160" width="160" height="300" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1060" y="167" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_17m56h4_di" bpmnElement="cancelLot">
        <di:waypoint x="1410" y="295" />
        <di:waypoint x="1410" y="150" />
        <di:waypoint x="1450" y="150" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1355" y="143" width="49" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_0czitrt_di" bpmnElement="SubCancelLotInCancelLotLineTask">
        <dc:Bounds x="1450" y="110" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="CallActivity_13efmgy_di" bpmnElement="SubUpdateMSTask">
        <dc:Bounds x="2010" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0zml7hm_di" bpmnElement="AccessFindActiveLotIdsInLotLineTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1710" y="110" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0uzdxud_di" bpmnElement="NoticeTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="2370" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1ivk6ad_di" bpmnElement="BpeSaveContextTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="2510" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1oa37bs_di" bpmnElement="NotifierSuccessNotificationToPlatformTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="2650" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0xgwcde_di" bpmnElement="AccessFindCompleteLotIdsTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1600" y="240" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0h7dpt8_di" bpmnElement="SequenceFlow_0h7dpt8">
        <di:waypoint x="1760" y="190" />
        <di:waypoint x="1760" y="215" />
        <di:waypoint x="1650" y="215" />
        <di:waypoint x="1650" y="240" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1629" y="193" width="64" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1qdawfd_di" bpmnElement="SequenceFlow_1qdawfd">
        <di:waypoint x="1810" y="150" />
        <di:waypoint x="2170" y="150" />
        <di:waypoint x="2170" y="315" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_04gj44u_di" bpmnElement="SequenceFlow_04gj44u">
        <di:waypoint x="2470" y="340" />
        <di:waypoint x="2510" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_19hefoi_di" bpmnElement="SequenceFlow_19hefoi">
        <di:waypoint x="1650" y="320" />
        <di:waypoint x="1650" y="375" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_18mrvu2_di" bpmnElement="SequenceFlow_18mrvu2">
        <di:waypoint x="1550" y="150" />
        <di:waypoint x="1710" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_0c5lfrj_di" bpmnElement="SubCompleteRecordTask">
        <dc:Bounds x="1790" y="240" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1kd2vip_di" bpmnElement="SequenceFlow_1kd2vip">
        <di:waypoint x="1700" y="280" />
        <di:waypoint x="1790" y="280" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1710" y="263" width="61" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1kk3ypw_di" bpmnElement="SequenceFlow_1kk3ypw">
        <di:waypoint x="1890" y="280" />
        <di:waypoint x="1950" y="280" />
        <di:waypoint x="1950" y="315" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1km97jz_di" bpmnElement="AccessFindActiveLotIdsInTenderLineTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1450" y="493" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="CallActivity_11wbf9y_di" bpmnElement="SubCancelLotInCancelTenderLineTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="1600" y="493" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0eycrxs_di" bpmnElement="ExclusiveGateway_0eycrxs" isMarkerVisible="true">
        <dc:Bounds x="2145" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ca12w2_di" bpmnElement="SequenceFlow_1ca12w2">
        <di:waypoint x="2195" y="340" />
        <di:waypoint x="2240" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1cbp8g3_di" bpmnElement="SequenceFlow_1cbp8g3">
        <di:waypoint x="2610" y="340" />
        <di:waypoint x="2650" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_09fffce_di" bpmnElement="EndEvent_09fffce">
        <dc:Bounds x="2782" y="322" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0nm7isv_di" bpmnElement="SequenceFlow_0nm7isv">
        <di:waypoint x="2750" y="340" />
        <di:waypoint x="2782" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0vjgg8f_di" bpmnElement="SequenceFlow_0vjgg8f">
        <di:waypoint x="2110" y="340" />
        <di:waypoint x="2145" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_12crrm3_di" bpmnElement="BpeAddUpdateRecordTaskInQueueTask" bioc:stroke="black" bioc:fill="white">
        <dc:Bounds x="2240" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0b3iiuy_di" bpmnElement="SequenceFlow_0b3iiuy">
        <di:waypoint x="2340" y="340" />
        <di:waypoint x="2370" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_1nczqnp_di" bpmnElement="SubCancelTenderTask">
        <dc:Bounds x="1790" y="360" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0gsg51n_di" bpmnElement="SequenceFlow_0gsg51n">
        <di:waypoint x="1890" y="410" />
        <di:waypoint x="1950" y="410" />
        <di:waypoint x="1950" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0iutsxe_di" bpmnElement="ExclusiveGateway_0iutsxe" isMarkerVisible="true">
        <dc:Bounds x="1925" y="315" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_15y52gc_di" bpmnElement="SequenceFlow_15y52gc">
        <di:waypoint x="1975" y="340" />
        <di:waypoint x="2010" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_15tdawk_di" bpmnElement="SequenceFlow_15tdawk">
        <di:waypoint x="1550" y="533" />
        <di:waypoint x="1600" y="533" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0fyxu3f_di" bpmnElement="ExclusiveGateway_0fyxu3f" isMarkerVisible="true">
        <dc:Bounds x="1625" y="375" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_09l5yvh_di" bpmnElement="SequenceFlow_09l5yvh">
        <di:waypoint x="1675" y="400" />
        <di:waypoint x="1790" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_0i7ah1p_di" bpmnElement="SubProcess_0i7ah1p" isExpanded="true">
        <dc:Bounds x="466" y="640" width="727" height="180" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_0chxhwy_di" bpmnElement="SubProcess_0chxhwy" isExpanded="true">
        <dc:Bounds x="1296" y="643" width="534" height="173" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_0ejymw1_di" bpmnElement="SubProcess_0ejymw1" isExpanded="true">
        <dc:Bounds x="1926" y="647" width="510" height="169" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0vehoa1_di" bpmnElement="StartEvent_0vehoa1" bioc:stroke="rgb(142, 36, 170)" bioc:fill="rgb(225, 190, 231)">
        <dc:Bounds x="515" y="712" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="494" y="755" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1k8obiz_di" bpmnElement="RecoveryAfterInternalIncidentTask">
        <dc:Bounds x="947" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0e2kgj7_di" bpmnElement="EndEvent_0e2kgj7">
        <dc:Bounds x="1117" y="712" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_00m7u4y_di" bpmnElement="NotifierBpeIncidentTask">
        <dc:Bounds x="606" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1unsqos_di" bpmnElement="FixInternalIncidentTask">
        <dc:Bounds x="775" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_18k6mvd_di" bpmnElement="StartEvent_18k6mvd" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="1345" y="716" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1324" y="759" width="83" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0io4sdt_di" bpmnElement="RecoveryAfterExternalIncidentTask">
        <dc:Bounds x="1591" y="694" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1hxbcm4_di" bpmnElement="EndEvent_1hxbcm4">
        <dc:Bounds x="1762" y="716" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0j1w6ru_di" bpmnElement="FixExternalIncidentTask">
        <dc:Bounds x="1440" y="694" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1286moc_di" bpmnElement="EndEvent_1286moc">
        <dc:Bounds x="2358" y="712" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_039ur7b_di" bpmnElement="StartEvent_039ur7b" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1966" y="712" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1942" y="755" width="84" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1eud6td_di" bpmnElement="BpeValidationErrorDescriptionModifierTask">
        <dc:Bounds x="2046" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0izwl4c_di" bpmnElement="NotifierValidationErrorNotificationToPlatformTask">
        <dc:Bounds x="2206" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0x6f2b6_di" bpmnElement="SequenceFlow_0x6f2b6">
        <di:waypoint x="551" y="730" />
        <di:waypoint x="606" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_07h2pa5_di" bpmnElement="SequenceFlow_07h2pa5">
        <di:waypoint x="1047" y="730" />
        <di:waypoint x="1117" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_12it276_di" bpmnElement="SequenceFlow_12it276">
        <di:waypoint x="706" y="730" />
        <di:waypoint x="775" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1cq2rnt_di" bpmnElement="SequenceFlow_1cq2rnt">
        <di:waypoint x="875" y="730" />
        <di:waypoint x="947" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_11psrp4_di" bpmnElement="SequenceFlow_11psrp4">
        <di:waypoint x="1381" y="734" />
        <di:waypoint x="1440" y="734" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1yx71r4_di" bpmnElement="SequenceFlow_1yx71r4">
        <di:waypoint x="1691" y="734" />
        <di:waypoint x="1762" y="734" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0dnbse4_di" bpmnElement="SequenceFlow_0dnbse4">
        <di:waypoint x="1540" y="734" />
        <di:waypoint x="1591" y="734" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1fxckeg_di" bpmnElement="SequenceFlow_1fxckeg">
        <di:waypoint x="2306" y="730" />
        <di:waypoint x="2358" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1k1qpa1_di" bpmnElement="SequenceFlow_1k1qpa1">
        <di:waypoint x="2002" y="730" />
        <di:waypoint x="2046" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0lo1lsp_di" bpmnElement="SequenceFlow_0lo1lsp">
        <di:waypoint x="2146" y="730" />
        <di:waypoint x="2206" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Group_1gzcyki_di" bpmnElement="Group_1gzcyki">
        <dc:Bounds x="2220" y="100" width="540" height="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2473" y="107" width="34" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Group_07e25j0_di" bpmnElement="Group_07e25j0" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="605" y="1940" width="770" height="140" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1254" y="1947" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_02zdvkt_di" bpmnElement="SequenceFlow_02zdvkt">
        <di:waypoint x="1650" y="493" />
        <di:waypoint x="1650" y="425" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
